<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login page</title>
</head>
<body>
    <form id="loginForm">
        <input type="email" name="email" id="email">
        <input type="password" name="password" id="password">
        <input type="button" value="login" onclick="try_login()">
    </form>

    <form id="registerForm">
        <input type="email" name="email" id="email">
        <input type="password" name="password" id="password">
        <input type="button" value="register" onclick="try_register()">
    </form>

</body>
<script>
    async function try_login() {
        const form = document.getElementById("loginForm")
        const email = form.elements[0].value;
        const password = form.elements[1].value;

        const loginObject = {
            "email": email,
            "passwordHash": 123
        };
        
        const token = await fetch("http://localhost:8080/api/login", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json' 
            },
            body: JSON.stringify(loginObject)
        })
        .then(response => {
            return response.json();
        });
        console.log(token);
    }

    async function try_register() {
        const form = document.getElementById("registerForm")
        const email = form.elements[0].value;
        const password = form.elements[1].value;

        const loginObject = {
            "email": email,
            "passwordHash": 123
        };
        
        const token = await fetch("http://localhost:8080/api/register", {
            method: 'POST', 
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(loginObject) 
        })
        .then(response => {
            return response.json();
        });
        console.log(token);
    }
</script>
</html>